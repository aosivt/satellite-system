<mat-sidenav-content class="base-table-container"  (scroll)="scrollTable($event)">
  <mat-card class="base-table-content-card">
    <mat-card-content>
      <div class="base-table-card-content-example-container mat-elevation-z8">
        <div class="base-table-loading-shade" *ngIf="isLoadingResults">
          <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
        </div>
        <div class="base-table-container">


<!--          <ng-container *ngIf="isLocal" >-->
<!--            <mat-form-field class="base-table-local-filter-field" appearance="standard"-->
<!--                            [style.margin-left.px]=4-->
<!--                            [style.width.pc]=50>-->
<!--              <mat-label>Фильтр по всем полям</mat-label>-->
<!--              <input #filter matInput  placeholder="Полнотекстовый поиск" (keyup)="applyLocalFilter($event)" #input>-->
<!--            </mat-form-field>-->
<!--            <table  mat-table class="local-base-table" [dataSource]="dataSource" matSort [style.width.pc]=50>-->
<!--                <ng-container  *ngFor="let columnItem of columns; let i = index"-->
<!--                               [matColumnDef]=columnItem.key>-->
<!--                  <th mat-header-cell *matHeaderCellDef mat-sort-header>-->
<!--                    <mat-label *ngIf="columnItem.type!==BUTTON_TYPE">{{columnItem.header}}</mat-label>-->
<!--                    <button [disabled]="disabled" mat-button *ngIf="columnItem.type===BUTTON_TYPE"-->
<!--                            (click)="columnItem.actionHeader===undefined?-->
<!--                                  $event.stopPropagation():-->
<!--                                  columnItem.actionHeader($event,columnItem)">-->
<!--                      <mat-icon>{{columnItem.header}}</mat-icon>-->
<!--                    </button>-->
<!--                  </th>-->
<!--                  <td  mat-cell *matCellDef="let row"-->
<!--                       [class.selected-item]="isSelectedItem(row)"-->
<!--                       [class.error-item]="checkErrorRow(row)"-->
<!--                       [class.other-item]="checkOther(row)"-->
<!--                       (dblclick)="disabled?$event.stopPropagation(): selectItem(row, columnItem)"-->

<!--                      (click)="columnItem.clickCell === undefined && disabled?-->
<!--                                  $event.stopPropagation():-->
<!--                                  clickCell($event, row, columnItem)">-->
<!--                    <mat-label-->
<!--                      *ngIf="columnItem.type!==BUTTON_TYPE">{{columnItem.cell(row, columnItem.key)}}-->
<!--                    </mat-label>-->
<!--                    <button [disabled]="disabled" mat-button *ngIf="columnItem.type === BUTTON_TYPE">-->
<!--                      <mat-icon-->
<!--                        *ngIf="columnItem.icon!==undefined">{{columnItem.icon(row, columnItem)}}-->
<!--                      </mat-icon>-->
<!--                    </button>-->
<!--                    <mat-icon-->
<!--                      *ngIf="columnItem.icon!==undefined && columnItem.type !== BUTTON_TYPE">-->
<!--                      {{columnItem.icon(row, columnItem)}}-->
<!--                    </mat-icon>-->
<!--                  </td>-->
<!--                </ng-container>-->
<!--              <tr mat-header-row *matHeaderRowDef="_displayColumns; sticky: true"></tr>-->
<!--              <tr mat-row *matRowDef="let row; columns: _displayColumns;"></tr>-->

<!--              &lt;!&ndash; Row shown when there is no matching data. &ndash;&gt;-->
<!--              <tr class="mat-row" *matNoDataRow>-->
<!--                <td class="mat-cell" colspan="4">Нет совпадений по фильтру или таблица пуста</td>-->
<!--              </tr>-->

<!--            </table>-->
<!--          </ng-container>-->

<!--          <ng-container *ngIf="!isLocal">-->
<!--          <table mat-table id="basetable" [dataSource]="dataSource" matSort (matSortChange)="sortColumn($event)">-->
<!--            <ng-container *ngFor="let columnItem of _columns; let i = index"-->
<!--                          [matColumnDef]=columnItem.key>-->
<!--              <th mat-header-cell *matHeaderCellDef mat-sort-header>-->
<!--                <form   (click)="$event.stopPropagation()">-->
<!--                  <mat-label *ngIf="columnItem.type!==BUTTON_TYPE">{{columnItem.header}}</mat-label>-->
<!--                  <button  [disabled]="disabled" mat-button *ngIf="columnItem.type===BUTTON_TYPE"-->
<!--                          (click)="columnItem.actionHeader===undefined && disabled?-->
<!--                                  $event.stopPropagation():-->
<!--                                  columnItem.actionHeader($event,columnItem)">-->
<!--                    <mat-icon>{{columnItem.header}}</mat-icon>-->
<!--                  </button>-->
<!--                  <mat-form-field  *ngIf="columnItem.type===DEFAULT_TYPE-->
<!--                                      || columnItem.type===LABEL_TYPE-->
<!--                                      || columnItem.type===TEXT_TYPE">-->
<!--                    <label>-->
<!--                      <input matInput #message [disabled]="disabled"-->
<!--                             (keydown.space)="$event.stopPropagation()"-->
<!--                             (click)="$event.stopPropagation()"-->
<!--                             (keydown.enter)="startFiltering(columnItem,message.value)"-->
<!--                             (blur)="startFiltering(columnItem,message.value)">-->
<!--                    </label>-->
<!--                    <button [disabled]="disabled" mat-button matSuffix mat-icon-button aria-label="Clear"-->
<!--                            (click)="message.value=''">x-->
<!--                    </button>-->
<!--                  </mat-form-field>-->
<!--                  <mat-checkbox [disabled]="disabled" #message *ngIf="columnItem.type===BOOLEAN_TYPE"-->
<!--                                indeterminate="true"-->
<!--                                (keydown.space)="$event.stopPropagation()"-->
<!--                                (click)="$event.stopPropagation()"-->
<!--                                (change)="onChangeCheckBox(columnItem,message)">-->
<!--                  </mat-checkbox>-->
<!--                  <mat-form-field *ngIf="columnItem.type===ENUM_TYPE"-->
<!--                                  (keydown.space)="$event.stopPropagation()"-->
<!--                                  (click)="$event.stopPropagation()">-->
<!--                    <mat-select #message [disabled]="disabled"-->
<!--                                (selectionChange)=startFiltering(columnItem,message.value)>-->
<!--                      <mat-option [value]="null">Очистить</mat-option>-->
<!--                      <mat-option *ngFor="let item of columnItem.enumKeys()" [value]="item">-->
<!--                        {{columnItem.enumValue(item)}}-->
<!--                      </mat-option>-->
<!--                    </mat-select>-->
<!--                  </mat-form-field>-->

<!--                  <mat-form-field *ngIf="columnItem.type===DATE_TYPE"-->
<!--                                  (keydown.space)="$event.stopPropagation()"-->
<!--                                  (click)="$event.stopPropagation()">-->
<!--                    <input #message matInput [disabled]="disabled" [type]=DATE_TYPE-->
<!--                           (change)=startFilteringDate($event,columnItem,message.value)-->
<!--                           (blur)=startFilteringDate($event,columnItem,message.value)>-->
<!--                    <button [disabled]="disabled" mat-button matSuffix mat-icon-button aria-label="Clear"-->
<!--                            (click)="message.value=''">x-->
<!--                    </button>-->
<!--                  </mat-form-field>-->

<!--&lt;!&ndash;                  <app-datapicker-with-time [disabled]="disabled" #dateWithTime *ngIf="columnItem.type===DATETIME_TYPE"&ndash;&gt;-->
<!--&lt;!&ndash;                                            (keydown.space)="$event.stopPropagation()"&ndash;&gt;-->
<!--&lt;!&ndash;                                            (click)="$event.stopPropagation()"&ndash;&gt;-->
<!--&lt;!&ndash;                                            (focusout)="startFilteringDate($event,columnItem,dateWithTime._value)">&ndash;&gt;-->
<!--&lt;!&ndash;                  </app-datapicker-with-time>&ndash;&gt;-->
<!--                </form>-->
<!--              </th>-->

<!--              <td mat-cell-->

<!--                  [ngClass]=" tdTableClassName(row)"-->
<!--                  [class.selected-item]="isSelectedItem(row)" *matCellDef="let row"-->
<!--                  [class.error-item]="checkErrorRow(row)"-->
<!--                  [class.other-item]="checkOther(row)"-->
<!--                  (dblclick)="disabled?$event.stopPropagation(): selectItem(row, columnItem)"-->
<!--                  (click)="columnItem.clickCell===undefined && disabled?-->
<!--                                  $event.stopPropagation():-->
<!--                                  clickCell($event, row, columnItem)">-->

<!--                {{(columnItem.isEdit && row === columnItem.rowEditing) ? '' : columnItem.cell(row, columnItem.key)}}-->

<!--                <mat-form-field *ngIf="columnItem.type===TEXT_TYPE && columnItem.isEdit && row===columnItem.rowEditing">-->
<!--                  <input [disabled]="disabled" matInput type="text" #textTypeField [value]="columnItem.cell(row,columnItem.key)"-->
<!--                         (keydown.enter)="columnItem.functionEdit($event, row, columnItem,textTypeField.value)"-->
<!--                         (blur)="columnItem.functionEdit($event, row, columnItem,textTypeField.value)"-->
<!--                         (click)="$event.stopPropagation()">-->
<!--                </mat-form-field>-->

<!--                <mat-form-field *ngIf="columnItem.type===ENUM_TYPE && columnItem.isEdit && row===columnItem.rowEditing">-->
<!--                  <mat-select #enumTypeField [disabled]="disabled"-->
<!--                              [value]="columnItem.select(row)"-->
<!--                              (selectionChange)="columnItem.functionEdit($event,row,columnItem,enumTypeField.value)"-->
<!--                              (click)="$event.stopPropagation()">-->
<!--                    <mat-option [value]="null">Очистить</mat-option>-->
<!--                    <mat-option *ngFor="let item of columnItem.enumKeys()" [value]="item">-->
<!--                      {{columnItem.enumValue(item)}}-->
<!--                    </mat-option>-->
<!--                  </mat-select>-->
<!--                </mat-form-field>-->

<!--                <button mat-button [disabled]="disabled" *ngIf="columnItem.type === BUTTON_TYPE">-->
<!--                  <mat-icon *ngIf="columnItem.icon!==undefined">{{columnItem.icon(row, columnItem)}}</mat-icon>-->
<!--                </button>-->
<!--                <mat-icon-->
<!--                  *ngIf="columnItem.icon!==undefined && columnItem.type !== BUTTON_TYPE">{{columnItem.icon(row, columnItem)}}</mat-icon>-->
<!--              </td>-->
<!--              </ng-container>-->

<!--            <tr mat-header-row *matHeaderRowDef="_displayColumns; sticky: true"></tr>-->
<!--            <tr mat-row *matRowDef="let row; columns: _displayColumns;"></tr>-->
<!--          </table>-->
<!--          </ng-container>-->
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</mat-sidenav-content>

